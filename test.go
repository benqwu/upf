package main

import (
	"github.com/workerwork/upf/core/msg"
	"github.com/workerwork/upf/core/node"
	"bytes"
	"log"
)

func main() {
	buf := bytes.NewBuffer([]byte{0x20, 0x05, 0x00, 0x15, 0x00, 0x00, 0x01, 0x00, 0x00, 0x3c, 0x00, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x00, 0x04, 0xce, 0x0b, 0xd6, 0x5d})
	cn := node.NewCacheNode()
	tmp := msg.Parse(buf)
	log.Println(tmp)
	//log.Println(cn.Run(tmp))
	log.Println(cn.Run(tmp).Pack().Bytes())
}
